<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aarush Lanjharia</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
        integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* ... (Your CSS from above - keep all of it) ... */
        body {
            margin: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            background-color: #e0e8ef;
            user-select: none;
        }

        .desktop {
            position: relative;
            width: 100vw;
            height: 100vh;
            background-image: url('desktop-background-modern.jpg');
            background-size: cover;
            background-position: center;
        }

        .taskbar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 48px;
            background-color: rgba(240, 240, 240, 0.7);
            border-top: 1px solid #d0d0d0;
            display: flex;
            align-items: center;
            padding: 0 10px;
            box-sizing: border-box;
            justify-content: space-between;
            backdrop-filter: blur(15px);
            z-index: 100;
        }

        .taskbar-left {
            display: flex;
            align-items: center;
            justify-content: flex-start;
        }

        .taskbar-middle {
            display: flex;
            align-items: center;
            justify-content: center;
            flex-grow: 1;
        }

        .taskbar-right {
            display: flex;
            align-items: center;
        }

        .start-button {
            background-color: rgba(255, 255, 255, 0.6);
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            margin: 0 10px;
            border-radius: 10px;
            transition: background-color 0.2s ease;
            position: relative;
            /* Make start button a positioning context for the menu */
        }

        .start-button:hover {
            background-color: rgba(255, 255, 255, 0.8);
        }

        .start-button:active {
            background-color: rgba(255, 255, 255, 0.5);
        }

        .start-button i {
            margin-right: 0;
            font-size: 1.1em;
            color: #333;
        }

        .taskbar-icons {
            display: flex;
            align-items: center;
            justify-content: flex-start;
            margin: 0 10px;
        }

        .taskbar-icon {
            background-color: rgba(255, 255, 255, 0.6);
            border: none;
            padding: 5px 8px;
            margin: 0 2px;
            cursor: pointer;
            display: flex;
            align-items: center;
            font-size: 1em;
            border-radius: 8px;
            transition: background-color 0.2s ease;
        }

        .taskbar-icon:hover {
            background-color: rgba(255, 255, 255, 0.8);
        }

        .taskbar-icon:active {
            background-color: rgba(255, 255, 255, 0.5);
        }

        .taskbar-icon i {
            margin-right: 0;
            color: #333;
        }

        .taskbar-search {
            margin: 0 15px;
            display: flex;
            align-items: center;
            background-color: rgba(255, 255, 255, 0.7);
            border: none;
            border-radius: 20px;
            padding: 5px 15px;
        }

        .taskbar-search input {
            border: none;
            outline: none;
            padding: 6px 10px;
            font-size: 0.95em;
            width: 220px;
            background-color: transparent;
            color: #555;
            height: 10px;
        }

        .taskbar-time {
            font-size: 0.9em;
            padding: 5px 10px;
            color: #333;
            border-radius: 8px;
            background-color: rgba(255, 255, 255, 0.1);
            display: flex;
            flex-direction: column;
            /* Stack time and date */
            align-items: flex-end;
            /* Right-align time and date */
            cursor: pointer;
        }

        .taskbar-time-time {
            font-size: 1em;
            line-height: 1.2;
            white-space: nowrap;
            /* Prevent time wrapping */
        }

        .taskbar-time-date {
            font-size: 0.85em;
            line-height: 1;
            color: #777;
            white-space: nowrap;
            /* Prevent date wrapping */
        }

        /* System Icons Styles */
        .system-icons {
            display: flex;
            align-items: center;
            margin-right: 10px;
        }

        .system-icon {
            position: relative;
            padding: 5px;
            cursor: pointer;
            margin-left: 5px;
        }

        .system-icon i {
            font-size: 1em;
            color: #555;
        }

        .system-icon .tooltip {
            position: absolute;
            bottom: 100%;
            right: 0;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 8px 12px;
            border-radius: 5px;
            font-size: 0.85em;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.2s, visibility 0.2s;
            margin-bottom: 5px;
            z-index: 100;
        }

        .system-icon:hover .tooltip {
            opacity: 1;
            visibility: visible;
        }

        /* Calendar Popup Styles */
        .calendar-popup {
            position: fixed;
            bottom: 48px;
            right: 10px;
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: column;
            padding: 10px;
            /* Reduced padding */
            z-index: 101;
            pointer-events: auto;
            width: 280px;
            /* Slightly wider calendar */
        }

        .calendar-header {
            text-align: center;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .calendar-weekdays {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            text-align: center;
            font-size: 0.9em;
            /* Smaller weekday names */
            color: #777;
            /* Lighter weekday color */
        }

        .calendar-days {
            /* Corrected CSS: Removed .calendar-week, targetting .calendar-days directly */
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            /* 7 columns for days */
            gap: 2px;
            /* Reduced gap between days */
        }

        .calendar-day,
        .calendar-day-empty {
            padding: 8px;
            text-align: center;
            cursor: pointer;
            border-radius: 4px;
            /* Rounded day numbers */
            transition: background-color 0.2s;
        }

        .calendar-day:hover {
            background-color: #f0f0f0;
        }

        .calendar-day.today {
            background-color: #e0e0e0;
        }

        .desktop-icons {
            position: absolute;
            top: 20px;
            left: 20px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
            grid-gap: 25px;
            padding: 25px;
            z-index: 10;
        }

        .desktop-icon,
        .folder-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            cursor: pointer;
            color: #333;
            text-shadow: none;
        }

        .desktop-icon i,
        .folder-icon i {
            font-size: 2.5em;
            margin-bottom: 8px;
            color: #0078D4;
        }

        .window-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            /* Initially allow clicks to pass through */
        }

        .window,
        .folder-view,
        .terminal-window,
        .bing-window .generic-window {
            /* Include terminal-window here */
            position: absolute;
            top: 50px;
            left: 350px;
            background-color: #fff;
            border: 1px solid #ccc;
            box-shadow: 5px 5px 15px rgba(0, 0, 0, 0.1);
            width: 650px;
            min-height: 350px;
            display: none;
            flex-direction: column;
            pointer-events: auto;
            /* Make windows interactive */
            resize: none;
            border-radius: 12px;
            overflow: hidden;
        }

        .bing-window {
            width: 800px;
            height: 600px;
        }

        .folder-view {
            width: 500px;
        }

        .window-titlebar,
        .folder-view .window-titlebar,
        .terminal-window .window-titlebar,
        .bing-window .window-titlebar,
        .generic-window .window-titlebar {
            /* Include terminal-window here */
            background-color: #f0f0f0;
            padding: 8px 12px;
            border-bottom: 1px solid #ddd;
            cursor: grab;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
        }

        .folder-view .window-titlebar::before {
            content: "";
            display: inline-block;
            width: 18px;
            height: 18px;
            margin-right: 8px;
            background-image: url('folder-icon-modern.png');
            background-size: contain;
            background-repeat: no-repeat;
        }

        .window-titlebar .window-title,
        .folder-view .window-titlebar .window-title,
        .terminal-window .window-titlebar .window-title,
        .bing-window .window-titlebar .window-title,
        .generic-window .window-titlebar .window-title {
            /* Include terminal-window here */
            flex-grow: 1;
            font-weight: normal;
            color: #333;
        }

        .window-buttons {
            display: flex;
        }

        .window-close {
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 5px;
            transition: background-color 0.2s ease;
        }

        .window-close:hover {
            background-color: #fddede;
            /* Light red on hover */
        }

        .window-close:active {
            background-color: #fccbcb;
        }

        .window-content,
        .folder-content,
        .terminal-window .window-content,
        .bing-window .window-content {
            /* Include terminal-window here */
            padding: 20px;
            overflow: auto;
            color: #444;
        }

        .folder-content {
            background-color: #f9f9f9;
            border: 1px solid #eee;
            padding: 15px;
            overflow-y: auto;
            height: auto;
        }

        .folder-content ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .folder-content li {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            padding: 8px;
            border-bottom: 1px solid #f0f0f0;
            border-radius: 6px;
            transition: background-color 0.15s ease;
        }

        .folder-content li:hover {
            background-color: #f0f0f0;
        }

        .folder-content li:last-child {
            border-bottom: none;
        }

        .folder-content li i {
            margin-right: 12px;
            color: #0078D4;
            font-size: 1.2em;
        }

        /* Resize Handles (slightly more subtle) */
        .window-resize-handle {
            position: absolute;
            background-color: rgba(0, 0, 0, 0.05);
            z-index: 10;
        }

        .window-resize-nw,
        .window-resize-se {
            width: 8px;
            height: 8px;
            cursor: nwse-resize;
            border-radius: 2px;
        }

        .window-resize-ne,
        .window-resize-sw {
            width: 8px;
            height: 8px;
            cursor: nesw-resize;
            border-radius: 2px;
        }

        .window-resize-n,
        .window-resize-s {
            width: 100%;
            height: 4px;
            cursor: ns-resize;
        }

        .window-resize-e,
        .window-resize-w {
            width: 4px;
            height: 100%;
            cursor: ew-resize;
        }

        .window-resize-nw {
            top: 0;
            left: 0;
        }

        .window-resize-ne {
            top: 0;
            right: 0;
        }

        .window-resize-se {
            bottom: 0;
            right: 0;
        }

        .window-resize-sw {
            bottom: 0;
            left: 0;
        }

        .window-resize-n {
            top: 0;
            left: 0;
        }

        .window-resize-s {
            bottom: 0;
            left: 0;
        }

        .window-resize-e {
            top: 0;
            right: 0;
        }

        .window-resize-w {
            top: 0;
            left: 0;
        }

        /* --- Terminal Window Specific Styles --- */
        .terminal-window .window-content {
            background-color: #1e1e1e;
            color: #f0f0f0;
            font-family: monospace, monospace;
            padding: 15px;
            overflow: auto;
            white-space: pre-wrap;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .terminal-output {
            margin-bottom: 8px;
            flex-grow: 1;
            min-height: 0;
        }

        .terminal-prompt {
            color: #4CAF50;
            margin-right: 5px;
        }

        .terminal-input-line {
            display: flex;
            align-items: center;
        }

        .terminal-input {
            background-color: transparent;
            border: none;
            outline: none;
            color: #f0f0f0;
            font-family: monospace, monospace;
            flex-grow: 1;
            min-width: 50px;
        }

        /* --- Resume PDF Viewer Styles --- */
        #resume-pdf-canvas {
            display: block;
            width: 100%;
            height: auto;
        }

        #resume-window .window-content {
            overflow: auto;
            padding: 0;
            display: flex;
            flex-direction: column;
        }

        .pdf-viewer-controls {
            display: flex;
            justify-content: center;
            padding: 10px 0;
            background-color: #f0f0f0;
            border-bottom: 1px solid #ddd;
        }

        .pdf-viewer-button {
            padding: 5px 10px;
            margin: 0 5px;
            cursor: pointer;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #fff;
        }

        /* Start Menu Styles */
        .start-menu {
            position: absolute;
            bottom: 55px;
            /* Adjust as needed */
            left: 10px;
            /* Adjust as needed */
            width: 200px;
            /* Adjust as needed */
            background-color: #f5f5f5;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
            z-index: 102;
            /* Higher than taskbar */
            display: none;
            /* Hidden by default */
            flex-direction: column;
            padding: 10px;
        }

        .start-menu-option {
            padding: 8px 12px;
            cursor: pointer;
            border-radius: 4px;
            transition: background-color 0.2s ease;
        }

        .start-menu-option:hover {
            background-color: #e0e0e0;
        }

        .bing-window .window-content {
            padding: 0;
            /* Remove padding for full iframe */
            overflow: hidden;
            /* Hide scrollbars initially */
        }

        .bing-window iframe {
            width: 100%;
            height: 56vh;
            border: none;
            /* Remove iframe border */
        }

        .bing-window {
            width: 1200px;
            height: 600px;
            display: none;
            /* Use flexbox */
            flex-direction: column;
            /* Stack titlebar and content vertically */
        }

        .bing-window .window-content {
            padding: 0;
            /* Remove padding for full iframe */
            overflow: hidden;
            /* Hide scrollbars initially */
            flex-grow: 1;
            /* Allow content to fill available space */
        }

        .bing-window iframe {
            width: 100%;
            height: 100%;
            border: none;
            /* Remove iframe border */
        }

        /* Generic pop-up window */
        .generic-window .window-content {
            padding: 0;
            /* Remove padding for full iframe */
            overflow: hidden;
            /* Hide scrollbars initially */
        }

        .generic-window iframe {
            width: 100%;
            height: 56vh;
            border: none;
            /* Remove iframe border */
        }

        .generic-window {
            width: 800px;
            height: 600px;
            display: none;
            /* Use flexbox */
            flex-direction: column;
            /* Stack titlebar and content vertically */
        }

        .generic-window .window-content {
            padding: 0;
            /* Remove padding for full iframe */
            overflow: hidden;
            /* Hide scrollbars initially */
            flex-grow: 1;
            /* Allow content to fill available space */
        }

        .generic-window iframe {
            width: 100%;
            height: 100%;
            border: none;
            /* Remove iframe border */
        }

        /* Image pop-up */
        .img-window .window-content {
            padding: 0;
            /* Remove padding for full iframe */
            overflow: hidden;
            /* Hide scrollbars initially */
        }

        .img-window {
            display: none;
            /* Use flexbox */
            flex-direction: column;
        }

        .img-window .window-content {
            padding: 0;
            /* Remove padding for full iframe */
            overflow: hidden;
            /* Hide scrollbars initially */
            flex-grow: 1;
        }

        .img-window img {
            max-width: 100%;
            height: fit-content;
            border: none;
            width: fit-content;
        }

        /* Notification Popup Styles */
        .notification-popup {
            position: fixed;
            bottom: 48px;
            /* Same as taskbar height */
            right: 10px;
            background-color: white;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: column;
            padding: 10px;
            z-index: 101;
            /* Same as calendar */
            pointer-events: auto;
            width: 300px;
            /* Adjust width as needed */
        }

        .notification-header {
            text-align: center;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .notification-item {
            padding: 8px;
            border-bottom: 1px solid #eee;
            font-size: 0.9em;
        }

        .notification-item:last-child {
            border-bottom: none;
        }

        #notification-icon {
            margin-left: 10px;
        }
    </style>
</head>

<body>
    <div class="desktop">
        <!-- Taskbar -->
        <div class="taskbar">
            <div class="taskbar-left">
                <div class="start-button">
                    <i class="fa-brands fa-windows"></i>
                    <!-- Start Menu -->
                    <div class="start-menu" id="start-menu">
                        <div class="start-menu-option" id="restart-option">Restart</div>
                        <div class="start-menu-option" id="shutdown-option">Shut Down</div>
                        <div class="start-menu-option" id="fullscreen-option">Full Screen</div>
                    </div>
                </div>
                <div class="taskbar-search">
                    <input type="text" placeholder="Search..." id="search-input">
                </div>
                <div class="taskbar-icons">
<<<<<<< HEAD
                    <div title="Aarush Magic" class="taskbar-icon" id="magicButton">
                        <i class="fa-solid fa-wand-magic-sparkles"></i>
                    </div>
                    <div title="RSA Ecnryption" class="taskbar-icon" id="rsaButton">
                        <i class="fa-solid fa-fingerprint"></i>
                    </div>
                    <div title="Sundial Maker" class="taskbar-icon" id="sundialButton">
                        <i class="fa-regular fa-clock"></i>
                    </div>
                    <div title="Font Maker" class="taskbar-icon" id="fontButton">
                        <i class="fa-solid fa-signature"></i>
                    </div>
                    <div title="Photo Carousel" class="taskbar-icon" id="imageButton">
                        <i class="fa-solid fa-images"></i>
=======
                    <div class="taskbar-icon" id="magicButton">
                        <i class="fa-solid fa-wand-magic-sparkles"></i>
                    </div>
                    <div class="taskbar-icon" id="rsaButton">
                        <i class="fa-solid fa-fingerprint"></i>
                    </div>
                    <div class="taskbar-icon" id="sundialButton">
                        <i class="fa-regular fa-clock"></i>
                    </div>
                    <div class="taskbar-icon" id="fontButton">
                        <i class="fa-solid fa-signature"></i>
>>>>>>> 2a781205ec231d87440b906988f55f793631304b
                    </div>
                    <!-- Add more taskbar icons here -->
                </div>
            </div>

            <div class="taskbar-right">
                <div class="system-icons">
                    <div class="system-icon" id="wifi-icon">
                        <i class="fas fa-wifi"></i>
                        <span class="tooltip" id="wifi-tooltip">WiFi: Connecting...</span>
                    </div>
                    <div class="system-icon" id="location-icon">
                        <i class="fas fa-map-marker-alt"></i>
                        <span class="tooltip" id="location-tooltip">Location: Getting location...</span>
                    </div>
                    <div class="system-icon" id="battery-icon">
                        <i class="fas fa-battery-full"></i>
                        <span class="tooltip" id="battery-tooltip">Battery: ...</span>
                    </div>
                </div>
                <div class="taskbar-time" id="taskbar-time">
                    <div class="taskbar-time-time">--:-- --</div>
                    <div class="taskbar-time-date">YYYY-MM-DD</div>
                </div>
                <div class="system-icon" id="notification-icon">
                    <i class="fas fa-bell"></i>
                    <span class="tooltip" id="notification-tooltip">Notifications</span>
                </div>
            </div>
        </div>

        <!-- Calendar Popup -->
        <div class="calendar-popup" id="calendar-popup">
            <div class="calendar-header" id="calendar-header"></div>
            <div class="calendar-weekdays" id="calendar-weekdays">
                <span>Sun</span><span>Mon</span><span>Tue</span><span>Wed</span><span>Thu</span><span>Fri</span><span>Sat</span>
            </div>
            <div class="calendar-days" id="calendar-days">
                <!-- Calendar days will be generated here -->
            </div>
        </div>

        <!-- Notification Popup -->
        <div class="notification-popup" id="notification-popup">
            <div class="notification-header">Recent Updates</div>
            <div id="notification-list">
                <!-- Notification items will be added here -->
            </div>
        </div>

        <!-- Desktop Icons -->
        <div class="desktop-icons">
            <div class="desktop-icon" data-window="resume-window">
                <i class="fas fa-file-alt"></i> Resume
            </div>
            <div class="desktop-icon" data-window="linkedin-window">
                <i class="fab fa-linkedin"></i> LinkedIn
            </div>
            <div class="desktop-icon" data-window="github-window">
                <i class="fab fa-github"></i> GitHub
            </div>
            <div class="desktop-icon folder-icon" data-folder="awards-folder">
                <i class="fas fa-folder"></i> Awards
            </div>
<<<<<<< HEAD
=======
            <div class="desktop-icon folder-icon" data-folder="certifications-folder">
                <i class="fas fa-folder"></i> Certifications
            </div>
>>>>>>> 2a781205ec231d87440b906988f55f793631304b
            <div class="desktop-icon" data-window="bing-window">
                <i class="fa-brands fa-edge"></i> Edge
            </div>
            <div class="desktop-icon" data-window="mail-window">
                <i class="fa-solid fa-envelope"></i> Email
            </div>
            <div class="desktop-icon" data-window="terminal-window">
                <i class="fas fa-terminal"></i> Terminal
            </div>
        </div>

        <!-- Window Container -->
        <div class="window-container">
            <!-- Resume Window -->
            <div class="window" id="resume-window">
                <div class="window-titlebar">
                    <span class="window-title">Resume</span>
                    <div class="window-buttons">
                        <span class="window-close" data-window="resume-window"><i class="fas fa-times"></i></span>
                    </div>
                </div>
                <div class="pdf-viewer-controls">
                    <button class="pdf-viewer-button" id="zoom-in"><i class="fas fa-plus"></i></button>
                    <button class="pdf-viewer-button" id="zoom-out"><i class="fas fa-minus"></i></button>
                    <button class="pdf-viewer-button" id="zoom-reset"><i class="fas fa-undo"></i></button>
                </div>
                <div class="window-content">
                    <canvas id="resume-pdf-canvas"></canvas>
                </div>
                <div class="window-resize-handle window-resize-nw"></div>
                <div class="window-resize-handle window-resize-ne"></div>
                <div class="window-resize-handle window-resize-se"></div>
                <div class="window-resize-handle window-resize-sw"></div>
                <div class="window-resize-handle window-resize-n"></div>
                <div class="window-resize-handle window-resize-s"></div>
                <div class="window-resize-handle window-resize-e"></div>
                <div class="window-resize-handle window-resize-w"></div>
            </div>

            <!-- LinkedIn Window ... (Rest of window HTML - keep all of it) -->
            <div class="window" id="linkedin-window">
                <div class="window-titlebar">
                    <span class="window-title">LinkedIn</span>
                    <div class="window-buttons">
                        <span class="window-close" data-window="linkedin-window"><i class="fas fa-times"></i></span>
                    </div>
                </div>
                <div class="window-content">
                    <h2>LinkedIn Profile</h2>
                    <p>Link to your LinkedIn profile:</p>
                    <p>Keywords for search: linkedin, professional, network, profile</p>
                    <a href="https://www.linkedin.com/in/aarush-lanjharia-065216228/" target="_blank">Visit my LinkedIn
                        Profile</a>
                </div>
                <div class="window-resize-handle window-resize-nw"></div>
                <div class="window-resize-handle window-resize-ne"></div>
                <div class="window-resize-handle window-resize-se"></div>
                <div class="window-resize-handle window-resize-sw"></div>
                <div class="window-resize-handle window-resize-n"></div>
                <div class="window-resize-handle window-resize-s"></div>
                <div class="window-resize-handle window-resize-e"></div>
                <div class="window-resize-handle window-resize-w"></div>
            </div>

            <!-- GitHub Window ... (Rest of window HTML - keep all of it) -->
            <div class="window" id="github-window">
                <div class="window-titlebar">
                    <span class="window-title">GitHub</span>
                    <div class="window-buttons">
                        <span class="window-close" data-window="github-window"><i class="fas fa-times"></i></span>
                    </div>
                </div>
                <div class="window-content">
                    <h2>GitHub Profile</h2>
                    <p>Link to your GitHub profile:</p>
                    <p>Keywords for search: github, code, repository, projects, development</p>
                    <a href="https://github.com/heightcalculator/" target="_blank">Visit my GitHub Profile</a>
                </div>
                <div class="window-resize-handle window-resize-nw"></div>
                <div class="window-resize-handle window-resize-ne"></div>
                <div class="window-resize-handle window-resize-se"></div>
                <div class="window-resize-handle window-resize-sw"></div>
                <div class="window-resize-handle window-resize-n"></div>
                <div class="window-resize-handle window-resize-s"></div>
                <div class="window-resize-handle window-resize-e"></div>
                <div class="window-resize-handle window-resize-w"></div>
            </div>

            <!-- Awards Folder View ... (Rest of folder HTML - keep all of it) -->
            <div class="folder-view" id="awards-folder">
                <div class="window-titlebar">
                    <span class="window-title">Awards</span>
                    <div class="window-buttons">
                        <span class="window-close" data-folder="awards-folder"><i class="fas fa-times"></i></span>
                    </div>
                </div>
                <div class="folder-content">
                    <ul id="awards-list">
                        <li data-name="mat"><i class="fas fa-trophy"></i> Mu Alpha Theta
                            High
                            School Scholarship - 2024<span class="search-keywords" style="display: none;">mat, mu alpha
                                theta, scholarship</span></li>
                        <li data-name="dhsmath"><i class="fas fa-trophy"></i> Certificate of
                            Excellence in Mathematics - 2024 <span class="search-keywords" style="display: none;">award,
                                excellence, honor, math</span></li>
                        <li data-name="scibowl"><i class="fas fa-trophy"></i> 2nd Place in GA
                            Science
                            Bowl Regionals - 2024 <span class="search-keywords" style="display: none;">science bowl,
                                regionals, 2nd, second</span></li>
                        <li data-name="dcsdtech23"><i class="fas fa-trophy"></i> 1st Place in
                            Dekalb County Tech Fair - 2023 <span class="search-keywords" style="display: none;">tech
                                fair, technology fair, first, 1st</span></li>
                        <li data-name="gatech23"><i class="fas fa-trophy"></i> 2nd Place in GA
                            State Tech Competition - 2023 <span class="search-keywords" style="display: none;">award,
                                accomplishment, merit</span></li>
                        <li data-name="calccomp4"><i class="fas fa-trophy"></i> 4th Place in GA State
                            Calculus Competition - 2023 <span class="search-keywords" style="display: none;">award,
                                excellence, honor</span></li>
                        <li data-name="calccomp1"><i class="fas fa-trophy"></i> 1st Place in GA State
                            Calculus Competition (Team) - 2023 <span class="search-keywords"
                                style="display: none;">award,
                                excellence, honor</span></li>
                        <li data-name="multimorley"><i class="fas fa-trophy"></i> Tom Morley Award
                            in Multivariable Calculus - 2023 <span class="search-keywords"
                                style="display: none;">morley, multi, multivariable</span></li>
                        <li data-name="linearmorley"><i class="fas fa-trophy"></i> Tom Morley Award
                            in Linear Algebra - 2022 <span class="search-keywords" style="display: none;">linear, linear
                                algebra</span></li>
                        <!-- Add more awards as list items -->
                    </ul>
                </div>
                <div class="window-resize-handle window-resize-nw"></div>
                <div class="window-resize-handle window-resize-ne"></div>
                <div class="window-resize-handle window-resize-se"></div>
                <div class="window-resize-handle window-resize-sw"></div>
                <div class="window-resize-handle window-resize-n"></div>
                <div class="window-resize-handle window-resize-s"></div>
                <div class="window-resize-handle window-resize-e"></div>
                <div class="window-resize-handle window-resize-w"></div>
            </div>

            <!-- Terminal Window -->
            <div class="window terminal-window" id="terminal-window">
                <div class="window-titlebar">
                    <span class="window-title">Terminal (⚠️Under development⚠️)</span>
                    <div class="window-buttons">
                        <span class="window-close" data-window="terminal-window"><i class="fas fa-times"></i></span>
                    </div>
                </div>
                <div class="window-content" id="terminal-content">
                    <div class="terminal-output" id="terminal-output"></div>
                    <div class="terminal-input-line">
                        <span class="terminal-prompt">C:\></span>
                        <input type="text" class="terminal-input" id="terminal-input"
                            placeholder="Enter command -- Note: Functionality still under development">
                    </div>
                </div>
                <div class="window-resize-handle window-resize-nw"></div>
                <div class="window-resize-handle window-resize-ne"></div>
                <div class="window-resize-handle window-resize-se"></div>
                <div class="window-resize-handle window-resize-sw"></div>
                <div class="window-resize-handle window-resize-n"></div>
                <div class="window-resize-handle window-resize-s"></div>
                <div class="window-resize-handle window-resize-e"></div>
                <div class="window-resize-handle window-resize-w"></div>
            </div>

            <!-- Bing Window -->
            <div class="window bing-window" id="bing-window">
                <div class="window-titlebar">
                    <span class="window-title">Microsoft Edge</span>
                    <div class="window-buttons">
                        <span class="window-close" data-window="bing-window"><i class="fas fa-times"></i></span>
                    </div>
                </div>
                <div class="window-content">
                    <iframe src="bing-iframe.html"
                        sandbox="allow-same-origin allow-scripts allow-popups allow-forms"></iframe>
                </div>
                <div class="window-resize-handle window-resize-nw"></div>
                <div class="window-resize-handle window-resize-ne"></div>
                <div class="window-resize-handle window-resize-se"></div>
                <div class="window-resize-handle window-resize-sw"></div>
                <div class="window-resize-handle window-resize-n"></div>
                <div class="window-resize-handle window-resize-s"></div>
                <div class="window-resize-handle window-resize-e"></div>
                <div class="window-resize-handle window-resize-w"></div>
            </div>

            <!-- Generic Window -->
            <div class="window generic-window" id="generic-window">
                <div class="window-titlebar">
                    <span class="window-title" id="generic-window-title">Aarush's Projects</span>
                    <div class="window-buttons">
                        <span class="window-close" data-window="generic-window"><i class="fas fa-times"></i></span>
                    </div>
                </div>
                <div class="window-content">
                    <iframe id="generic-iframe" src=""
                        sandbox="allow-same-origin allow-scripts allow-popups allow-forms allow-modals"
                        allow="geolocation"></iframe>
                </div>
                <div class="window-resize-handle window-resize-nw"></div>
                <div class="window-resize-handle window-resize-ne"></div>
                <div class="window-resize-handle window-resize-se"></div>
                <div class="window-resize-handle window-resize-sw"></div>
                <div class="window-resize-handle window-resize-n"></div>
                <div class="window-resize-handle window-resize-e"></div>
                <div class="window-resize-handle window-resize-w"></div>
            </div>

            <!-- Img Window -->
            <div class="window img-window" id="img-window">
                <div class="window-content">
                    <img id="img-iframe" src=""></img>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // ... (Your JavaScript from above - keep all of it, with the following additions) ...
            document.getElementById("fullscreen-option").addEventListener("click", () => {
                if (document.fullscreenEnabled) {
                    document.documentElement.requestFullscreen();
                }
                document.getElementById("fullscreen-option").style.display = "none"
            })
            const desktopIcons = document.querySelectorAll('.desktop-icon');
            const windows = document.querySelectorAll('.window');
            const folderIcons = document.querySelectorAll('.folder-icon');
            const folderViews = document.querySelectorAll('.folder-view');
            const windowContainer = document.querySelector('.window-container');
            const closeButtons = document.querySelectorAll('.window-close');
            const resizeHandles = document.querySelectorAll('.window-resize-handle');
            const startButton = document.querySelector('.start-button');
            const taskbarIcons = document.querySelectorAll('.taskbar-icon');
            const searchInput = document.getElementById('search-input');
            const taskbarTime = document.getElementById('taskbar-time'); // Select time element within taskbar-time
            const timeDisplayTime = document.querySelector('.taskbar-time-time'); // Select time element within taskbar-time
            const timeDisplayDate = document.querySelector('.taskbar-time-date'); // Select date element within taskbar-time
            const notificationIcon = document.getElementById('notification-icon');
            const notificationPopup = document.getElementById('notification-popup');
            const notificationList = document.getElementById('notification-list');

            const zoomInButton = document.getElementById('zoom-in');
            const zoomOutButton = document.getElementById('zoom-out');
            const zoomResetButton = document.getElementById('zoom-reset');
            const calendarPopup = document.getElementById('calendar-popup');
            const calendarHeader = document.getElementById('calendar-header');
            const calendarDays = document.getElementById('calendar-days');
            const wifiIcon = document.getElementById('wifi-icon');
            const locationIcon = document.getElementById('location-icon');
            const batteryIcon = document.getElementById('battery-icon');
            const wifiTooltipText = document.getElementById('wifi-tooltip');
            const locationTooltipText = document.getElementById('location-tooltip');
            const batteryTooltipText = document.getElementById('battery-tooltip');


            // --- Start Menu Elements ---
            const startMenu = document.getElementById('start-menu');
            const restartOption = document.getElementById('restart-option');
            const shutdownOption = document.getElementById('shutdown-option');

            let pdfPage = null;
            let pdfViewport = null;
            let pdfCanvas = null;
            let pdfCanvasContext = null;
            let currentScale = 1.0;
            let calendarVisible = false;
            let notificationVisible = false;

            let currentZIndex = 1;

            // --- Terminal Functionality --- (rest of your terminal JavaScript - keep all of it) ...
            const terminalInput = document.getElementById('terminal-input');
            const terminalOutput = document.getElementById('terminal-output');

            // --- Dynamic File System based on HTML Content --- (rest of your file system JavaScript - keep all of it) ...
            function buildFileSystem() {
                return {
                    '/': {
                        type: 'dir',
                        contents: {
                            'Resume': { type: 'file', elementId: 'resume-window' },
                            'LinkedIn': { type: 'file', elementId: 'linkedin-window' },
                            'GitHub': { type: 'file', elementId: 'github-window' },
                            'Awards': {
                                type: 'dir',
                                elementId: 'awards-folder'
                            },
                            'Certifications': {
                                type: 'dir',
                                elementId: 'certifications-folder'
                            },
                            'Edge': { type: 'file', elementId: 'bing-window' }
                        }
                    }
                };
            }

            let fileSystem = buildFileSystem();
            let currentDirectory = fileSystem['/']; // Start at root
            let currentPath = '/';

            function printToTerminal(text, className = 'terminal-output') {
                const outputLine = document.createElement('div');
                outputLine.className = className;
                outputLine.textContent = text;
                terminalOutput.appendChild(outputLine);
                terminalOutput.scrollTop = terminalOutput.scrollHeight; // Scroll to bottom
            }

            function executeCommand(command) {
                // ... (rest of your executeCommand function - keep all of it) ...
                const parts = command.trim().split(/\s+/);
                const baseCommand = parts[0];
                const args = parts.slice(1);

                switch (baseCommand) {
                    case 'help':
                        printToTerminal('Available commands: help, clear, echo, date, ls, cd, pwd, mkdir, rmdir, rm, cp, mv, cat, grep');
                        break;
                    case 'clear':
                        terminalOutput.innerHTML = '';
                        break;
                    case 'echo':
                        printToTerminal(args.join(' '));
                    case 'date':
                        printToTerminal(new Date().toLocaleString());
                        break;
                    case 'ls':
                        let output = '';
                        for (const itemName in currentDirectory.contents) {
                            output += itemName + (currentDirectory.contents[itemName].type === 'dir' ? '/' : '') + '\n';
                        }
                        printToTerminal(output || ' '); // Print space if directory empty to avoid no output
                        break;
                    case 'cd':
                        if (!args[0]) {
                            currentDirectory = fileSystem['/'];
                            currentPath = '/';
                            break;
                        }
                        const targetDirName = args[0];
                        if (!targetDirName || !(targetDirName in currentDirectory.contents) || currentDirectory.contents[targetDirName].type !== 'dir') { // Check if targetDirName is valid directory
                            printToTerminal(`cd: no such directory: ${args[0]}`); // Corrected error message
                            return;
                        }
                        if (targetDirName === '..') {
                            if (currentPath !== '/') {
                                const pathParts = currentPath.split('/').filter(part => part);
                                pathParts.pop();
                                currentPath = '/' + pathParts.join('/');
                                if (currentPath === '/') currentDirectory = fileSystem['/'];
                                else {
                                    let tempDir = fileSystem['/'];
                                    for (const part of pathParts) {
                                        if (tempDir.contents[part] && tempDir.contents[part].type === 'dir') {
                                            tempDir = tempDir.contents[part];
                                        } else {
                                            printToTerminal(`cd: no such file or directory: ${args[0]}`);
                                            return;
                                        }
                                    }
                                    currentDirectory = tempDir;
                                }

                            }
                        }

                        else if (currentDirectory.contents[targetDirName] && currentDirectory.contents[targetDirName].type === 'dir') {
                            currentDirectory = currentDirectory.contents[targetDirName];
                            currentPath += (currentPath === '/' ? '' : '/') + targetDirName;
                        } else {
                            printToTerminal(`cd: no such file or directory: ${args[0]}`);
                        }
                        break;
                    case 'pwd':
                        printToTerminal(currentPath);
                        break;
                    case 'mkdir':
                    case 'rmdir':
                    case 'rm':
                    case 'cp':
                    case 'mv':
                    case 'cat':
                    case 'grep':
                    case 'chmod':
                    case 'chown':
                    case 'sudo':
                    case 'history':
                    case 'man':
                        printToTerminal(`${baseCommand}: command not implemented in this simulation for dynamic content`);
                        break;
                    default:
                        printToTerminal(`Command not recognized: ${baseCommand}`);
                }
            }

            terminalInput.addEventListener('keydown', function (event) {
                if (event.key === 'Enter') {
                    event.preventDefault(); // Prevent default newline in input
                    const command = terminalInput.value;
                    printToTerminal(`<span class="terminal-prompt">C:\></span>${command}`, 'terminal-output'); // Print user command
                    executeCommand(command);
                    terminalInput.value = ''; // Clear input
                }
            });

            // --- Window Dragging ... (rest of your JavaScript - keep all of it) ...
            let isDragging = false;
            let currentWindow = null;
            let offsetX, offsetY;

            function startDrag(e) {
                if (e.target.classList.contains('window-resize-handle')) return; // Don't drag from resize handle
                isDragging = true;
                currentWindow = e.target.closest('.window, .folder-view, .terminal-window, .bing-window'); // Include terminal window in draggable windows
                if (!currentWindow) return;

                windowContainer.style.pointerEvents = 'auto';
                currentWindow.style.zIndex = currentZIndex++;

                offsetX = e.clientX - currentWindow.offsetLeft;
                offsetY = e.clientY - currentWindow.offsetTop;

                document.addEventListener('mousemove', dragWindow);
                document.addEventListener('mouseup', stopDrag);
            }

            function dragWindow(e) {
                if (!isDragging || !currentWindow) return;
                currentWindow.style.left = e.clientX - offsetX + 'px';
                currentWindow.style.top = e.clientY - offsetY + 'px';
            }

            function stopDrag() {
                isDragging = false;
                currentWindow = null;
                windowContainer.style.pointerEvents = 'none';
                document.removeEventListener('mousemove', dragWindow);
                document.removeEventListener('mouseup', stopDrag);
            }

            document.querySelectorAll('.window-titlebar, .folder-view .window-titlebar, .terminal-window .window-titlebar, .bing-window .window-titlebar').forEach(titlebar => { // Include terminal window titlebar
                titlebar.addEventListener('mousedown', startDrag);
            });

            // --- Window Resizing ... (rest of your JavaScript - keep all of it) ...
            let isResizing = false;
            let currentResizeHandle = null;
            let initialWidth, initialHeight, initialX, initialY;

            function startResize(e) {
                isResizing = true;
                currentResizeHandle = e.target;
                currentWindow = e.target.closest('.window, .folder-view, .terminal-window, .bing-window'); // Include terminal window in resizable windows
                if (!currentWindow) return;

                windowContainer.style.pointerEvents = 'auto';
                currentWindow.style.zIndex = currentZIndex++;

                initialWidth = currentWindow.offsetWidth;
                initialHeight = currentWindow.offsetHeight;
                initialX = e.clientX;
                initialY = e.clientY;

                document.addEventListener('mousemove', resizeWindow);
                document.addEventListener('mouseup', stopResize);
            }

            function resizeWindow(e) {
                if (!isResizing || !currentWindow || !currentResizeHandle) return;

                let widthDiff = e.clientX - initialX;
                let heightDiff = e.clientY - initialY;

                if (currentResizeHandle.classList.contains('window-resize-e')) {
                    currentWindow.style.width = initialWidth + widthDiff + 'px';
                } else if (currentResizeHandle.classList.contains('window-resize-w')) {
                    currentWindow.style.width = initialWidth - widthDiff + 'px';
                    currentWindow.style.left = parseFloat(currentWindow.style.left) + widthDiff + 'px'; // Keep right edge fixed
                } else if (currentResizeHandle.classList.contains('window-resize-n')) {
                    currentWindow.style.height = initialHeight - heightDiff + 'px';
                    currentWindow.style.top = parseFloat(currentWindow.style.top) + heightDiff + 'px'; // Keep bottom edge fixed
                } else if (currentResizeHandle.classList.contains('window-resize-s')) {
                    currentWindow.style.height = initialHeight + heightDiff + 'px';
                } else if (currentResizeHandle.classList.contains('window-resize-nw')) {
                    currentWindow.style.width = initialWidth - widthDiff + 'px';
                    currentWindow.style.left = parseFloat(currentWindow.style.left) + widthDiff + 'px';
                    currentWindow.style.height = initialHeight - heightDiff + 'px';
                    currentWindow.style.top = parseFloat(currentWindow.style.top) + heightDiff + 'px';
                } else if (currentResizeHandle.classList.contains('window-resize-ne')) {
                    currentWindow.style.width = initialWidth + widthDiff + 'px';
                    currentWindow.style.height = initialHeight - heightDiff + 'px';
                    currentWindow.style.top = parseFloat(currentWindow.style.top) + heightDiff + 'px';
                } else if (currentResizeHandle.classList.contains('window-resize-se')) {
                    currentWindow.style.width = initialWidth + widthDiff + 'px';
                    currentWindow.style.height = initialHeight + heightDiff + 'px';
                } else if (currentResizeHandle.classList.contains('window-resize-sw')) {
                    currentWindow.style.width = initialWidth - widthDiff + 'px';
                    currentWindow.style.left = parseFloat(currentWindow.style.left) + widthDiff + 'px';
                    currentWindow.style.height = initialHeight + heightDiff + 'px';
                }
            }

            function stopResize() {
                isResizing = false;
                currentResizeHandle = null;
                currentWindow = null;
                windowContainer.style.pointerEvents = 'none';
                document.removeEventListener('mousemove', resizeWindow);
                document.removeEventListener('mouseup', stopResize);
            }

            resizeHandles.forEach(handle => {
                handle.addEventListener('mousedown', startResize);
            });

            // --- Icon Click Handlers ... (UPDATED to include Bing window) ...
            document.getElementsByClassName("fa-solid fa-envelope")[0].addEventListener('click', () => {
                openNewTab('mailto:alanjharia@gmail.com');
            })
            desktopIcons.forEach(icon => {
                icon.addEventListener('click', () => {
                    const windowId = icon.getAttribute('data-window');
                    const folderId = icon.getAttribute('data-folder');

                    windows.forEach(win => win.style.display = 'none');
                    folderViews.forEach(folder => folder.style.display = 'none');
                    document.querySelectorAll('.terminal-window').forEach(termWin => termWin.style.display = 'none');

                    if (windowId) {
                        const windowElement = document.getElementById(windowId);
                        if (windowElement) {
                            windowElement.style.display = 'flex';
                            windowElement.style.zIndex = currentZIndex++;

                            if (windowId === 'resume-window') {
                                loadResumePDF();
                            } else if (windowId === 'linkedin-window') {
                                openNewTab('https://www.linkedin.com/in/aarush-lanjharia-065216228/', '_blank');
                                windowElement.style.display = 'none';
                            } else if (windowId === 'mail-window') {
                                openNewTab('mailto:alanjharia@gmail.com');
                                windowElement.style.display = 'none';
                            } else if (windowId === 'github-window') {
                                openNewTab('https://github.com/heightcalculator/', '_blank');
                                windowElement.style.display = 'none';
                            } else if (windowId === 'terminal-window') {
                                document.getElementById('terminal-input').focus();
                            } else if (windowId === 'bing-window') {
                                // No specific action needed here - iframe loads automatically
                            }
                        }
                    } else if (folderId) {
                        const folderElement = document.getElementById(folderId);
                        if (folderElement) {
                            folderElement.style.display = 'flex';
                            folderElement.style.zIndex = currentZIndex++;
                        }
                    }
                });
            });

            folderIcons.forEach(icon => {
                icon.addEventListener('click', () => {
                    const folderId = icon.getAttribute('data-folder');
                    if (folderId) {
                        const folderElement = document.getElementById(folderId);
                        if (folderElement) {
                            windows.forEach(win => win.style.display = 'none');
                            folderViews.forEach(folder => folder.style.display = 'none');
                            document.querySelectorAll('.terminal-window').forEach(termWin => termWin.style.display = 'none');
                            folderElement.style.display = 'flex';
                            folderElement.style.zIndex = currentZIndex++;
                        }
                    }
                });
            });

<<<<<<< HEAD
            const awardsList = document.getElementById('awards-list').getElementsByTagName("li");
            for (let i = 0; i < awardsList.length; i++) {
                awardsList[i].addEventListener('mouseenter', () => {
                    let eachid = awardsList[i].dataset.name;
                    imgToOpen = document.getElementById("img-iframe")
                    imgToOpen.src = "awards/" + eachid + ".png"
                    windowElement = document.getElementById("img-window")
                    windowElement.style.display = 'flex';
                    windowElement.style.zIndex = currentZIndex++;
                    windowElement.style.left = Number(window.getComputedStyle(document.getElementById("awards-folder")).left.slice(0, -2)) + Number(window.getComputedStyle(document.getElementById("awards-folder")).width.slice(0, -2)) + 10 + "px";
=======
            document.getElementById("magicButton").addEventListener('click', () => {
                openNewTab("https://aarushmagic.com")
            })
            document.getElementById("rsaButton").addEventListener('click', () => {
                openNewTab("https://rsa.aarushmagic.com/preview")
            })
            document.getElementById("sundialButton").addEventListener('click', () => {
                openNewTab("https://sundial.aarushmagic.com/make/two")
            })
            document.getElementById("fontButton").addEventListener('click', () => {
                openNewTab("https://fonts.aarushmagic.com")
            })
            taskbarIcons.forEach(icon => { // Add click functionality to taskbar icons
                icon.addEventListener('click', () => {
                    const windowId = icon.getAttribute('data-window');
                    const folderId = icon.getAttribute('data-folder');
>>>>>>> 2a781205ec231d87440b906988f55f793631304b

                    //windowElement.style.width = Number(window.getComputedStyle(document.getElementById("img-iframe")).width.slice(0, -2));
                });
            }
            document.getElementById("awards-folder").addEventListener('mouseleave', () => {
                document.getElementById("img-window").style.display = 'none';
            })


            document.getElementById("magicButton").addEventListener('click', () => {
                openNewTab("https://aarushmagic.com")
            })
            document.getElementById("rsaButton").addEventListener('click', () => {
                iframeToOpen = document.getElementById("generic-iframe")
                document.getElementById("generic-iframe").src = "https://rsa.aarushmagic.com/preview"
                document.getElementById("generic-window-title").innerHTML = "RSA Encryption"
                const windowElement = document.getElementById("generic-window");
                windowElement.style.display = 'flex';
                windowElement.style.zIndex = currentZIndex++;
            })
            document.getElementById("sundialButton").addEventListener('click', () => {
                iframeToOpen = document.getElementById("generic-iframe")
                document.getElementById("generic-iframe").src = "https://sundial.aarushmagic.com/make/two"
                document.getElementById("generic-window-title").innerHTML = "Sundial Maker"
                const windowElement = document.getElementById("generic-window");
                windowElement.style.display = 'flex';
                windowElement.style.zIndex = currentZIndex++;
            })
            document.getElementById("fontButton").addEventListener('click', () => {
                iframeToOpen = document.getElementById("generic-iframe")
                document.getElementById("generic-iframe").src = "https://fonts.aarushmagic.com"
                document.getElementById("generic-window-title").innerHTML = "Font Maker"
                const windowElement = document.getElementById("generic-window");
                windowElement.style.display = 'flex';
                windowElement.style.zIndex = currentZIndex++;
            })
            document.getElementById("imageButton").addEventListener('click', () => {
                iframeToOpen = document.getElementById("generic-iframe")
                document.getElementById("generic-iframe").src = "https://photos.aarushmagic.com"
                document.getElementById("generic-window-title").innerHTML = "Aarush's Photos"
                const windowElement = document.getElementById("generic-window");
                windowElement.style.display = 'flex';
                windowElement.style.zIndex = currentZIndex++;
            })

            // --- Close Button Handlers ... (rest of your JavaScript - keep all of it) ...
            closeButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const windowIdToClose = button.getAttribute('data-window');
                    const folderIdToClose = button.getAttribute('data-folder');

                    if (windowIdToClose) {
                        const windowToClose = document.getElementById(windowIdToClose);
                        if (windowToClose) {
                            windowToClose.style.display = 'none';
                        }
                    } else if (folderIdToClose) {
                        const folderToClose = document.getElementById(folderIdToClose);
                        if (folderToClose) {
                            folderToClose.style.display = 'none';
                        }
                    }
                });
            });

            // --- Start Button and Shutdown/Restart Functionality ---
            let startMenuVisible = false;

            startButton.addEventListener('click', (event) => {
                startMenuVisible = !startMenuVisible;
                startMenu.style.display = startMenuVisible ? 'flex' : 'none';
                event.stopPropagation(); // Prevent document click from immediately closing it
            });

            document.addEventListener('click', (event) => {
                if (startMenuVisible && !startButton.contains(event.target) && !startMenu.contains(event.target)) {
                    startMenu.style.display = 'none';
                    startMenuVisible = false;
                }
            });

            restartOption.addEventListener('click', () => {
                location.reload(); // Reloads the page (simulates restart)
            });

            // --- More Robust Shutdown (Closing all related tabs) ---
            let openedTabs = []; // Keep track of opened tabs

            // Example of opening a new tab and adding it to the list:
            function openNewTab(url) {
                const newTab = window.open(url, '_blank');
                openedTabs.push(newTab);
            }

            shutdownOption.addEventListener('click', () => {
                // Close all tabs in the openedTabs array
                for (const tab of openedTabs) {
                    if (!tab.closed) { // Check if already closed
                        tab.close();
                    }
                }
                openedTabs = []; // Clear the array

                window.location.replace('about:blank'); // Close the main window
            });

            // --- Search Bar Functionality ... (UPDATED to include Bing in search results) ...
            searchInput.addEventListener('keydown', function (event) {
                if (event.key === 'Enter') {
                    const searchTerm = searchInput.value.toLowerCase().trim();
                    if (!searchTerm) return; // Don't search if empty

                    windows.forEach(win => win.style.display = 'none'); // Hide all windows
                    folderViews.forEach(folder => folder.style.display = 'none'); // Hide all folders
                    document.querySelectorAll('.terminal-window').forEach(termWin => termWin.style.display = 'none'); // Hide terminal windows too

                    let foundMatch = false;

                    desktopIcons.forEach(icon => { // Search icon names too
                        if (icon.textContent.toLowerCase().includes(searchTerm)) {
                            const windowId = icon.getAttribute('data-window');
                            const folderId = icon.getAttribute('data-folder');
                            if (windowId) {
                                document.getElementById(windowId).style.display = 'flex';
                                document.getElementById(windowId).style.zIndex = currentZIndex++;
                                if (windowId === 'resume-window') loadResumePDF();
                                foundMatch = true;
                            } else if (folderId) {
                                document.getElementById(folderId).style.display = 'flex';
                                document.getElementById(folderId).style.zIndex = currentZIndex++;
                                foundMatch = true;
                            }
                        }
                    });

                    // Search Resume ... (rest of your JavaScript - keep all of it) ...
                    const resumeContent = document.getElementById('resume-window').querySelector('.window-content').textContent.toLowerCase();
                    if (resumeContent.includes(searchTerm)) {
                        document.getElementById('resume-window').style.display = 'flex';
                        document.getElementById('resume-window').style.zIndex = currentZIndex++;
                        loadResumePDF();
                        foundMatch = true;
                    }

                    // Search LinkedIn, GitHub, Awards, Certifications (rest of your search logic - keep all of it) ...
                    const linkedinContent = document.getElementById('linkedin-window').querySelector('.window-content').textContent.toLowerCase();
                    if (linkedinContent.includes(searchTerm) || "linkedin".includes(searchTerm)) {
                        openNewTab("https://www.linkedin.com/in/aarush-lanjharia-065216228/")
                        document.getElementById("linkedin-window").style.display = 'none';
                        foundMatch = true;
                    }

                    const githubContent = document.getElementById('github-window').querySelector('.window-content').textContent.toLowerCase();
                    if (githubContent.includes(searchTerm) || "github".includes(searchTerm)) {
                        openNewTab("https://github.com/heightcalculator/")
                        document.getElementById("github-window").style.display = 'none';
                        foundMatch = true;
                    }

                    const awardsItems = document.querySelectorAll('#awards-folder .folder-content li');
                    awardsItems.forEach(item => {
                        if (item.textContent.toLowerCase().includes(searchTerm)) {
                            document.getElementById('awards-folder').style.display = 'flex';
                            document.getElementById('awards-folder').style.zIndex = currentZIndex++;
                            foundMatch = true;
                        }
                    });

                    const certificationsItems = document.querySelectorAll('#certifications-folder .folder-content li');
                    certificationsItems.forEach(item => {
                        if (item.textContent.toLowerCase().includes(searchTerm)) {
                            document.getElementById('certifications-folder').style.display = 'flex';
                            document.getElementById('certifications-folder').style.zIndex = currentZIndex++;
                            foundMatch = true;
                        }
                    });

                    // Search Bing (basic check - you can refine this)
                    if (["bing", "search", "browser", "edge"].includes(searchTerm)) {
                        document.getElementById('bing-window').style.display = 'flex';
                        document.getElementById('bing-window').style.zIndex = currentZIndex++;
                        foundMatch = true;
                    }

                    if (["magic", "tricks", "cards"].includes(searchTerm)) {
                        openNewTab("https://aarushmagic.com")
                        foundMatch = true;
                    }

                    if (["sundial"].includes(searchTerm)) {
<<<<<<< HEAD
                        iframeToOpen = document.getElementById("generic-iframe")
                        document.getElementById("generic-iframe").src = "https://sundial.aarushmagic.com/make/two"
                        document.getElementById("generic-window-title").innerHTML = "Sundial Maker"
                        const windowElement = document.getElementById("generic-window");
                        windowElement.style.display = 'flex';
                        windowElement.style.zIndex = currentZIndex++;
=======
                        openNewTab("https://sundial.aarushmagic.com/make/two")
>>>>>>> 2a781205ec231d87440b906988f55f793631304b
                        foundMatch = true;
                    }

                    if (["rsa", "encryption", "encrypter", "key"].includes(searchTerm)) {
<<<<<<< HEAD
                        iframeToOpen = document.getElementById("generic-iframe")
                        document.getElementById("generic-iframe").src = "https://rsa.aarushmagic.com/preview"
                        document.getElementById("generic-window-title").innerHTML = "RSA Encryption"
                        const windowElement = document.getElementById("generic-window");
                        windowElement.style.display = 'flex';
                        windowElement.style.zIndex = currentZIndex++;
=======
                        openNewTab("https://rsa.aarushmagic.com/preview")
>>>>>>> 2a781205ec231d87440b906988f55f793631304b
                        foundMatch = true;
                    }

                    if (["font", "handwriting"].includes(searchTerm)) {
<<<<<<< HEAD
                        iframeToOpen = document.getElementById("generic-iframe")
                        document.getElementById("generic-iframe").src = "https://fonts.aarushmagic.com"
                        document.getElementById("generic-window-title").innerHTML = "Font Maker"
                        const windowElement = document.getElementById("generic-window");
                        windowElement.style.display = 'flex';
                        windowElement.style.zIndex = currentZIndex++;
                        foundMatch = true;
                    }

                    if (["photos", "photo", "picture", "pictures", "memories"].includes(searchTerm)) {
                        iframeToOpen = document.getElementById("generic-iframe")
                        document.getElementById("generic-iframe").src = "https://photos.aarushmagic.com"
                        document.getElementById("generic-window-title").innerHTML = "Aarush's Photos"
                        const windowElement = document.getElementById("generic-window");
                        windowElement.style.display = 'flex';
                        windowElement.style.zIndex = currentZIndex++;
=======
                        openNewTab("https://fonts.aarushmagic.com")
>>>>>>> 2a781205ec231d87440b906988f55f793631304b
                        foundMatch = true;
                    }

                    if (!foundMatch) {
<<<<<<< HEAD
                        searchInput.style.color = "#cc0000"
=======
                        searchInput.style.color = "red"
>>>>>>> 2a781205ec231d87440b906988f55f793631304b
                        setTimeout(() => {
                            searchInput.style.color = "#555";
                        }, "500");
                        console.log(`No results found for "${searchInput.value}"`);

                    } else {
                        searchInput.value = ""
                    }
                }
            });

            // --- Bing Window iframe Height Fix ---
            function adjustIframeHeight() {
                const bingWindow = document.getElementById('bing-window');
                const windowContent = bingWindow.querySelector('.window-content');
                const iframe = windowContent.querySelector('iframe');

                // Calculate available height for the iframe:
                const windowHeight = bingWindow.offsetHeight;
                const titlebarHeight = bingWindow.querySelector('.window-titlebar').offsetHeight;
                const availableHeight = windowHeight - titlebarHeight;

                iframe.style.height = availableHeight + 'px';
            }

            // Call adjustIframeHeight initially and on window resize
            adjustIframeHeight();
            window.addEventListener('resize', adjustIframeHeight);

            // Call adjustIframeHeight when the Bing window is opened or resized
            const bingWindow = document.getElementById('bing-window');
            const bingResizeObserver = new ResizeObserver(adjustIframeHeight);
            bingResizeObserver.observe(bingWindow);
            // --- Date and Time Display and Calendar Popup (UPDATED - Rebuilt Calendar Generation) ---
            function updateTime() {
                const now = new Date();
                const timeString = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', second: '2-digit' });
                const dateString = now.toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: 'numeric' });
                timeDisplayTime.textContent = timeString;
                timeDisplayDate.textContent = dateString;
            }

            updateTime();
            setInterval(updateTime, 1000);

            function generateCalendar() {
                calendarDays.innerHTML = ''; // Clear previous days - VERY IMPORTANT!
                const today = new Date();
                const currentMonth = today.getMonth();
                const currentYear = today.getFullYear();
                calendarHeader.textContent = new Date(currentYear, currentMonth).toLocaleDateString(undefined, { month: 'long', year: 'numeric' });

                const firstDayOfMonth = new Date(currentYear, currentMonth, 1);
                const startingDayOfWeek = firstDayOfMonth.getDay(); // 0 (Sun) - 6 (Sat)
                const daysInMonth = new Date(currentYear, currentMonth + 1, 0).getDate();

                // Add empty days for the start of the month to align with the correct weekday
                for (let i = 0; i < startingDayOfWeek; i++) {
                    const emptyDay = document.createElement('span');
                    emptyDay.className = 'calendar-day-empty';
                    calendarDays.appendChild(emptyDay);
                }

                // Add days of the month
                for (let day = 1; day <= daysInMonth; day++) {
                    const dayElement = document.createElement('span');
                    dayElement.className = 'calendar-day';
                    dayElement.textContent = day;
                    if (day === today.getDate() && currentMonth === today.getMonth() && currentYear === today.getFullYear()) {
                        dayElement.classList.add('today');
                    }
                    calendarDays.appendChild(dayElement);
                }
            }

            generateCalendar();

            taskbarTime.addEventListener('click', () => {
                calendarVisible = !calendarVisible;
                calendarPopup.style.display = calendarVisible ? 'flex' : 'none';
                if (calendarVisible) {
                    generateCalendar(); // Regenerate calendar when showing
                }
            });

            document.addEventListener('click', (event) => {
                if (calendarVisible && !taskbarTime.contains(event.target) && !calendarPopup.contains(event.target)) {
                    calendarPopup.style.display = 'none';
                    calendarVisible = false;
                }
            });

            if (navigator.connection) {
                const connection = navigator.connection;
                wifiIcon.addEventListener('mouseover', async () => {  // Make listener async
                    try {
                        const response = await fetch('https://api.ipify.org?format=json'); // Fetch IP
                        const data = await response.json();
                        const ipAddress = data.ip;
                        wifiTooltipText.textContent = `WiFi: ${ipAddress}`;
                    } catch (error) {
                        wifiTooltipText.textContent = 'WiFi: Not Available';
                        console.error("Error fetching IP address:", error); // Log errors for debugging
                    }
                });
            } else {
                if (!navigator.onLine) {
                    wifiTooltipText.textContent = 'WiFi: Offline';
                } else {
                    wifiTooltipText.textContent = 'WiFi Info: Not Available';
                }
            }

            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(position => {
                    const latitude = position.coords.latitude;
                    const longitude = position.coords.longitude;

                    // Basic reverse geocoding (replace with a proper service for real apps)
                    fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${latitude}&lon=${longitude}`)
                        .then(response => response.json())
                        .then(data => {
                            const city = data.address.city || data.address.town || data.address.village || 'Unknown City';
                            const region = data.address.state || data.address.country || 'Unknown Region';
                            locationTooltipText.textContent = `Location: ${city}, ${region}`;
                        })
                        .catch(error => {
                            locationTooltipText.textContent = 'Location: Error getting location';
                            console.error("Error fetching location data:", error); // Log errors
                        });

                }, error => {
                    locationTooltipText.textContent = 'Location: Location access denied';
                    console.error("Geolocation access denied:", error.message); // Log geolocation errors
                });
            } else {
                locationTooltipText.textContent = 'Location: Geolocation not supported';
            }

            if (navigator.getBattery) {
                navigator.getBattery().then(battery => {
                    function updateBatteryInfo() {
                        const batteryLevel = Math.round(battery.level * 100);
                        batteryTooltipText.textContent = `Battery: ${batteryLevel}% - ${battery.charging ? 'Charging' : ''}`;
                        const batteryIconElement = batteryIcon.querySelector('i'); // Get the <i> element
                        if (batteryIconElement) { // Check if the <i> element exists to avoid errors
                            if (batteryLevel > 87) {
                                batteryIconElement.className = 'fas fa-battery-full'
                            } else if (batteryLevel > 62) {
                                batteryIconElement.className = "fa-solid fa-battery-three-quarters"
                            } else if (batteryLevel > 37) {
                                batteryIconElement.className = "fa-solid fa-battery-half"
                            } else if (batteryLevel > 12) {
                                batteryIconElement.className = "fa-solid fa-battery-quarter"
                            } else {
                                batteryIconElement.className = "fa-solid fa-battery-empty"
                            }
                        }
                    }
                    updateBatteryInfo();
                    battery.addEventListener('chargingchange', updateBatteryInfo);
                    battery.addEventListener('levelchange', updateBatteryInfo);
                }).catch(error => {
                    batteryTooltipText.textContent = 'Battery Info: Not Available';
                    console.error("Error accessing Battery API:", error); // Log battery API errors
                });
            } else {
                batteryTooltipText.textContent = 'Battery Info: Not Available';
            }

            // --- Resume PDF Loading Function ... (rest of your PDF loading function - keep all of it) ...
            function loadResumePDF() {
                pdfCanvas = document.getElementById('resume-pdf-canvas');
                pdfCanvasContext = pdfCanvas.getContext('2d');
                const pdfUrl = 'files/resume.pdf'; // Path to your resume PDF

                pdfjsLib.getDocument(pdfUrl).promise.then(pdfDocument => {
                    pdfDocument.getPage(1).then(page => { // Render the first page
                        pdfPage = page; // Store page for zooming
                        renderPDF(); // Initial render
                    });
                });
            }

            function renderPDF() {
                if (!pdfPage) return;

                pdfViewport = pdfPage.getViewport({ scale: currentScale });
                pdfCanvas.height = pdfViewport.height;
                pdfCanvas.width = pdfViewport.width;

                const renderContext = {
                    canvasContext: pdfCanvasContext,
                    viewport: pdfViewport
                };
                pdfPage.render(renderContext); // This is where the error was
            }

            // --- Zoom Functions ... (rest of your zoom functions - keep all of it) ...
            function zoomIn() {
                currentScale = Math.min(currentScale + 0.2, 3.0); // Zoom in, max 3x
                renderPDF();
            }

            function zoomOut() {
                currentScale = Math.max(currentScale - 0.2, 0.5); // Zoom out, min 0.5x
                renderPDF();
            }

            function zoomReset() {
                currentScale = 1.0;
                renderPDF();
            }

            // --- Zoom Button Event Listeners ... (rest of your zoom button event listeners - keep all of it) ...
            zoomInButton.addEventListener('click', () => {
                currentScale = Math.min(currentScale + 0.2, 3.0);
                if (pdfPage) {
                    pdfViewport = pdfPage.getViewport({ scale: currentScale });
                    pdfCanvas.height = pdfViewport.height; pdfCanvas.width = pdfViewport.width;
                    renderPDF(pdfPage);
                }
            });

            zoomOutButton.addEventListener('click', () => {
                currentScale = Math.max(currentScale - 0.2, 0.5);
                if (pdfPage) {
                    pdfViewport = pdfPage.getViewport({ scale: currentScale });
                    pdfCanvas.height = pdfViewport.height;
                    pdfCanvas.width = pdfViewport.width;
                    renderPDF(pdfPage);
                }
            });

            zoomResetButton.addEventListener('click', () => {
                currentScale = 1.0;
                if (pdfPage) {
                    pdfViewport = pdfPage.getViewport({ scale: currentScale });
                    pdfCanvas.height = pdfViewport.height;
                    pdfCanvas.width = pdfViewport.width;
                    renderPDF(pdfPage);
                }
            });
            // --- Notification Functionality ---
            let commitsArr = []
            const owner = "heightcalculator"; // e.g., "octocat"
            const repo = "home-page";  // e.g., "Hello-World"
            const token = ""; // Optional, for private repos or higher rate limit

            async function getRecentCommitDescriptions() {
                const url = `https://api.github.com/repos/${owner}/${repo}/commits`;

                try {
                    const headers = token ? { Authorization: `Bearer ${token}` } : {};
                    const response = await fetch(url, { headers });

                    if (!response.ok) {
                        throw new Error(`GitHub API error: ${response.status}`);
                    }

                    const commits = await response.json();
                    const oneYearAgo = new Date();
                    oneYearAgo.setFullYear(oneYearAgo.getFullYear() - 1);

                    // Filter commits from the last year
                    const recentCommits = commits
                        .filter(commit => new Date(commit.commit.author.date) >= oneYearAgo)
                        .slice(0, 5); // Take only the first 5 commits

                    recentCommits.reverse();
                    return recentCommits;
                } catch (error) {
                    console.error("Error fetching commits:", error);
                    return [];
                }
            }
            getRecentCommitDescriptions().then(descriptions => {
                commitsArr = descriptions;
                displayNotifications(descriptions);
            });

            function displayNotifications(commits) {
                notificationList.innerHTML = ''; // Clear existing notifications

                if (commits.length === 0) {
                    const noUpdatesMessage = document.createElement('div');
                    noUpdatesMessage.className = 'notification-item';
                    noUpdatesMessage.textContent = 'No recent updates in the last year.';
                    notificationList.appendChild(noUpdatesMessage);
                    return;
                }

                commits.forEach(commit => {
                    const message = commit.commit.message;
                    const date = new Date(commit.commit.author.date).toLocaleDateString();

                    const notificationItem = document.createElement('div');
                    notificationItem.className = 'notification-item';
                    notificationItem.innerHTML = `
                        <b>${date}</b>: ${message}
                    `;
                    notificationList.appendChild(notificationItem);
                });
            }

            notificationIcon.addEventListener('click', (event) => {
                notificationVisible = !notificationVisible;
                notificationPopup.style.display = notificationVisible ? 'flex' : 'none';
                if (notificationVisible) {
                    displayNotifications(commitsArr)
                }
                event.stopPropagation();
            });

            document.addEventListener('click', (event) => {
                if (notificationVisible && !notificationIcon.contains(event.target) && !notificationPopup.contains(event.target)) {
                    notificationPopup.style.display = 'none';
                    notificationVisible = false;
                }
            });
        });
    </script>
</body>

</html>
